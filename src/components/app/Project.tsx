import { useParams } from 'react-router-dom';

import { trpc } from '../trpc';
import { Layout } from './Layout';

export function Project() {
	const { projectId } = useParams<{ projectId: string }>();
	const projectQuery = trpc.projects.getProject.useQuery(
		{
			projectId: projectId!,
		},
		{
			enabled: !!projectId,
			staleTime: 1000,
			retry: (retry, error) => {
				return retry < 3 && !error.data?.code;
			},
		}
	);
	const project = projectQuery.data;

	return (
		<Layout title={`Projects / ${project?.name}`}>
			<div className="text-base leading-6 text-white">Project's details go here.</div>
			<div className="text-base leading-6 text-white">Name: {project?.name}</div>
		</Layout>
	);
}
