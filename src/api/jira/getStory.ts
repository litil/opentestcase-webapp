export const getStory = async ({
	jiraDomain,
	storyId,
}: {
	jiraDomain: string;
	storyId: string;
}) => {
	if (!storyId || !jiraDomain) {
		return null;
	}

	const myHeaders = new Headers();
	myHeaders.append('Accept', 'application/json');

	const requestOptions = {
		method: 'GET',
		headers: myHeaders,
		redirect: 'follow' as RequestRedirect,
	};

	const path =
		'https://nfjgjocwi655nn7eknhets7cty0cfyrv.lambda-url.eu-west-3.on.aws?' +
		new URLSearchParams({
			domain: jiraDomain,
			storyId,
		});
	const req = await fetch(path, requestOptions);
	const res = await req.json();
	console.log('getStory res:', res);

	return res;
};
