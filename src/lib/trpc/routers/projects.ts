import { z } from 'zod';

import { createTRPCRouter, orgProcedure, publicProcedure } from '../trpc';

export const projectsRouter = createTRPCRouter({
	getProjects: publicProcedure.query(async () => {
		return [];
	}),
	createProject: orgProcedure
		.input(
			z.object({
				name: z.string(),
			})
		)
		.mutation(async () => {
			// const title = input.title || 'Untitled';
			// const description = input.description || '';
			// const tags = (input.tags || []).map((x) => x.trim()).filter((x) => x.length > 0);
			// const template = input.template satisfies Message[];
			// trackEvent(ctx.user, 'prompt_created');
			// const promptId = nanoid();
			// await db.insert(prompts).values({
			// 	orgId: ctx.requiredOrgId,
			// 	promptId,
			// 	userId: ctx.user.userId,
			// 	privacyLevel: input.privacyLevel,
			// 	title,
			// 	description,
			// 	tags,
			// 	template,
			// });
			// await db.insert(promptLikes).values({
			// 	promptId,
			// 	userId: ctx.user.userId,
			// });
			return 0;
		}),
});
