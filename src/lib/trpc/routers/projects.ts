import { z } from 'zod';

import { apiProcedure, createTRPCRouter, orgProcedure } from '../trpc';

const projectSchema = z.object({
	name: z.string(),
	id: z.number(),
});
export type Project = z.infer<typeof projectSchema>;

export const projectsRouter = createTRPCRouter({
	getProjects: orgProcedure.query(async ({ ctx }) => {
		return [
			{ name: 'My first project', id: 1 },
			{ name: 'My second project', id: 2 },
			{ name: 'My third project', id: 3 },
		];
	}),
	getProject: apiProcedure
		.input(
			z.object({
				projectId: z.string(),
			})
		)
		.query(async ({ input, ctx }) => {
			return {
				id: input.projectId,
				name: 'Hardcoded project name',
			};
		}),
});
